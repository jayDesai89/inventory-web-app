{"ast":null,"code":"import { select } from '@ngrx/store';\nimport { invokeInventoryAPI } from '../store/inventory.action';\nimport { selectInventory } from '../store/inventory.selector';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\n\nfunction DashboardComponent_tr_19_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"input\", 14);\n    i0.ɵɵlistener(\"ngModelChange\", function DashboardComponent_tr_19_div_17_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.partForm.inStock = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.partForm.inStock);\n  }\n}\n\nconst _c0 = function (a1) {\n  return [\"/edit\", a1];\n};\n\nfunction DashboardComponent_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 8);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 9);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 10);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 10);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 10);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementStart(11, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_tr_19_Template_button_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const part_r1 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      ctx_r6.receive(part_r1.id);\n      return i0.ɵɵresetView(ctx_r6.display = true);\n    });\n    i0.ɵɵtext(12, \"+\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_tr_19_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const part_r1 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      ctx_r8.consume(part_r1.id);\n      return i0.ɵɵresetView(ctx_r8.display = true);\n    });\n    i0.ɵɵtext(14, \"--\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_tr_19_Template_button_click_15_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.display = false);\n    });\n    i0.ɵɵtext(16, \"Save\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(17, DashboardComponent_tr_19_div_17_Template, 2, 1, \"div\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\")(19, \"a\", 13);\n    i0.ɵɵtext(20, \"Edit\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const part_r1 = ctx.$implicit;\n    const i_r2 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r2 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(part_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(part_r1 == null ? null : part_r1.partNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(part_r1 == null ? null : part_r1.cost);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", part_r1 == null ? null : part_r1.inStock, \" \");\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.display);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(7, _c0, part_r1.id));\n  }\n}\n\nexport class DashboardComponent {\n  constructor(store) {\n    this.store = store;\n    this.parts$ = this.store.pipe(select(selectInventory));\n    this.partForm = {\n      id: 0,\n      cost: 0,\n      partNumber: '',\n      description: '',\n      name: '',\n      notes: '',\n      inStock: 0,\n      image: {},\n      isActive: true\n    };\n  }\n\n  ngOnInit() {\n    this.store.dispatch(invokeInventoryAPI());\n    this.parts$.subscribe(data => {\n      this.numOfParts = data.reduce((previousValue, currentValue) => previousValue + currentValue.inStock, 0);\n      console.log(this.numOfParts);\n    });\n  }\n\n  receive(id) {\n    console.log('receive', id);\n  }\n\n  consume(id) {\n    console.log('consume', id);\n  }\n\n}\n\nDashboardComponent.ɵfac = function DashboardComponent_Factory(t) {\n  return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.Store));\n};\n\nDashboardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DashboardComponent,\n  selectors: [[\"app-dashboard\"]],\n  decls: 21,\n  vars: 3,\n  consts: [[1, \"container\"], [1, \"row\"], [1, \"col\"], [1, \"table\", \"table-hover\"], [1, \"thead-dark\"], [\"scope\", \"col\", 1, \"text-center\"], [\"scope\", \"col\", 1, \"text-left\"], [4, \"ngFor\", \"ngForOf\"], [\"scope\", \"row\", 1, \"text-center\"], [1, \"text-left\"], [1, \"text-center\"], [3, \"click\"], [4, \"ngIf\"], [1, \"btn\", \"btn-dark\", 3, \"routerLink\"], [\"type\", \"number\", \"id\", \"txtinStock\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"]],\n  template: function DashboardComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\")(4, \"table\", 3)(5, \"thead\", 4)(6, \"tr\")(7, \"th\", 5);\n      i0.ɵɵtext(8, \"#\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"th\", 6);\n      i0.ɵɵtext(10, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\", 5);\n      i0.ɵɵtext(12, \"Number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\", 5);\n      i0.ɵɵtext(14, \"Cost\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\", 5);\n      i0.ɵɵtext(16, \"In-stock\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"th\", 5);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(18, \"tbody\");\n      i0.ɵɵtemplate(19, DashboardComponent_tr_19_Template, 21, 9, \"tr\", 7);\n      i0.ɵɵpipe(20, \"async\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(19);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(20, 1, ctx.parts$));\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.RouterLinkWithHref, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgModel, i2.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJkYXNoYm9hcmQuY29tcG9uZW50LnNjc3MifQ== */\"]\n});","map":{"version":3,"mappings":"AACA,SAASA,MAAT,QAA8B,aAA9B;AAEA,SAASC,kBAAT,QAAyD,2BAAzD;AACA,SAASC,eAAT,QAAgC,6BAAhC;;;;;;;;;;;ICqBgBC,4BAAqB,CAArB,EAAqB,OAArB,EAAqB,EAArB;IAGEA;MAAAA;MAAA;MAAA,OAAaA,gDAAb;IACZ,CADY;IAFAA;;;;;IAEAA;IAAAA;;;;;;;;;;;;IAZNA,2BAAoD,CAApD,EAAoD,IAApD,EAAoD,CAApD;IACsCA;IAAOA;IAC3CA;IAAsBA;IAAaA;IACnCA;IAAwBA;IAAoBA;IAC5CA;IAAwBA;IAAcA;IACtCA;IAAwBA;IACtBA;IAAQA;MAAA;MAAA;MAAA;MAASC;MAAgB,uCAAW,IAAX;IAAe,CAAxC;IAA0CD;IAACA;IACnDA;IAAQA;MAAA;MAAA;MAAA;MAASE;MAAgB,uCAAY,IAAZ;IAAgB,CAAzC;IAA2CF;IAAEA;IACvDA;IAAQA;MAAAA;MAAA;MAAA,uCAAkB,KAAlB;IAAuB,CAAvB;IAAyBA;IAAIA;IACnCA;IASJA;IACEA,4BAAI,EAAJ,EAAI,GAAJ,EAAI,EAAJ;IAA+DA;IAAIA;;;;;;;IAlB/BA;IAAAA;IACdA;IAAAA;IACEA;IAAAA;IACAA;IAAAA;IACAA;IAAAA;IAIhBA;IAAAA;IAUAA;IAAAA;;;;ADxBtB,OAAM,MAAOG,kBAAP,CAAyB;EAI7BC,YAAoBC,KAApB,EAAgC;IAAZ;IAHpB,cAAS,KAAKA,KAAL,CAAWC,IAAX,CAAgBT,MAAM,CAACE,eAAD,CAAtB,CAAT;IAKA,gBAAsB;MACpBQ,EAAE,EAAE,CADgB;MAEpBC,IAAI,EAAE,CAFc;MAGpBC,UAAU,EAAE,EAHQ;MAIpBC,WAAW,EAAE,EAJO;MAKpBC,IAAI,EAAE,EALc;MAMpBC,KAAK,EAAE,EANa;MAOpBC,OAAO,EAAE,CAPW;MAQpBC,KAAK,EAAE,EARa;MASpBC,QAAQ,EAAE;IATU,CAAtB;EAFoC;;EAepCC,QAAQ;IACN,KAAKX,KAAL,CAAWY,QAAX,CAAoBnB,kBAAkB,EAAtC;IAEA,KAAKoB,MAAL,CAAYC,SAAZ,CAAuBC,IAAD,IAAS;MAC7B,KAAKC,UAAL,GAAkBD,IAAI,CAACE,MAAL,CAChB,CAACC,aAAD,EAAgBC,YAAhB,KAAiCD,aAAa,GAAGC,YAAY,CAACX,OAD9C,EACsD,CADtD,CAAlB;MAGAY,OAAO,CAACC,GAAR,CAAY,KAAKL,UAAjB;IACD,CALD;EAMD;;EAGDM,OAAO,CAACpB,EAAD,EAAG;IACRkB,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBnB,EAAvB;EACD;;EAEDqB,OAAO,CAACrB,EAAD,EAAG;IACRkB,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBnB,EAAvB;EACD;;AArC4B;;;mBAAlBJ,oBAAkBH;AAAA;;;QAAlBG;EAAkB0B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCX/BjC,mCAA2B,CAA3B,EAA2B,KAA3B,EAA2B,CAA3B,EAA2B,CAA3B,EAA2B,KAA3B,EAA2B,CAA3B,EAA2B,CAA3B,EAA2B,KAA3B,EAA2B,CAA3B,EAA2B,OAA3B,EAA2B,CAA3B,EAA2B,CAA3B,EAA2B,OAA3B,EAA2B,CAA3B,EAA2B,CAA3B,EAA2B,IAA3B,EAA2B,CAA3B,EAA2B,IAA3B,EAA2B,CAA3B;MAOkDA;MAACA;MACrCA;MAAkCA;MAAIA;MACtCA;MAAoCA;MAAMA;MAC1CA;MAAoCA;MAAIA;MACxCA;MAAoCA;MAAQA;MAC5CA;MACFA;MAEFA;MACEA;;MAqBFA;;;;MArBuBA;MAAAA","names":["select","invokeInventoryAPI","selectInventory","i0","ctx_r6","ctx_r8","DashboardComponent","constructor","store","pipe","id","cost","partNumber","description","name","notes","inStock","image","isActive","ngOnInit","dispatch","parts$","subscribe","data","numOfParts","reduce","previousValue","currentValue","console","log","receive","consume","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\Jay\\Personal_Projects\\atp-inventory-app\\src\\app\\inventory\\dashboard\\dashboard.component.ts","D:\\Jay\\Personal_Projects\\atp-inventory-app\\src\\app\\inventory\\dashboard\\dashboard.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { select, Store } from '@ngrx/store';\nimport { Inventory } from '../store/inventory';\nimport { invokeInventoryAPI, invokeReceivePartAPI } from '../store/inventory.action';\nimport { selectInventory } from '../store/inventory.selector';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.scss']\n})\nexport class DashboardComponent implements OnInit {\n  parts$ = this.store.pipe(select(selectInventory));\n  numOfParts: number;\n\n  constructor(private store: Store) {}\n\n  partForm: Inventory = {\n    id: 0,\n    cost: 0,\n    partNumber: '',\n    description: '',\n    name: '',\n    notes: '',\n    inStock: 0,\n    image: {},\n    isActive: true,\n  };\n\n\n  ngOnInit(): void {\n    this.store.dispatch(invokeInventoryAPI());\n\n    this.parts$.subscribe((data) => {\n      this.numOfParts = data.reduce(\n        (previousValue, currentValue) => previousValue + currentValue.inStock,0\n      );\n      console.log(this.numOfParts)\n    })\n  }\n\n\n  receive(id) {\n    console.log('receive', id);\n  }\n\n  consume(id) {\n    console.log('consume', id);\n  }\n\n\n\n\n\n}\n","<section class=\"container\">\n  <div class=\"row\">\n    <div class=\"col\">\n      <div>\n        <table class=\"table table-hover\">\n          <thead class=\"thead-dark\">\n            <tr>\n              <th scope=\"col\" class=\"text-center\">#</th>\n              <th scope=\"col\" class=\"text-left\">Name</th>\n              <th scope=\"col\" class=\"text-center\">Number</th>\n              <th scope=\"col\" class=\"text-center\">Cost</th>\n              <th scope=\"col\" class=\"text-center\">In-stock</th>\n              <th scope=\"col\" class=\"text-center\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr *ngFor=\"let part of parts$| async ; index as i\">\n              <td scope=\"row\" class=\"text-center\">{{i+1}}</td>\n              <td class=\"text-left\">{{part.name}}</td>\n              <td class=\"text-center\">{{part?.partNumber}}</td>\n              <td class=\"text-center\">{{part?.cost}}</td>\n              <td class=\"text-center\">{{part?.inStock}}\n                <button (click)=\"receive(part.id);display = true\">+</button>\n                <button (click)=\"consume(part.id); display = true\">--</button>\n              <button (click)=\"display= false\">Save</button>\n                <div *ngIf=\"display\">\n                  <input\n                  type=\"number\"\n                  [(ngModel)]=\"partForm.inStock\"\n                  class=\"form-control\"\n                  id=\"txtinStock\"\n                />\n\n                </div>\n            </td>\n              <td> <a [routerLink]=\"['/edit', part.id]\" class=\"btn btn-dark\">Edit</a></td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</section>\n\n"]},"metadata":{},"sourceType":"module"}